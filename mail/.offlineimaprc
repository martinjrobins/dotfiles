[general]
ui = ttyui
accounts = Gmail
pythonfile = ~/Mail/offlineimap.py

[Account Gmail]
localrepository = Gmail-Local
remoterepository = Gmail-Remote
status_backend = sqlite
synclabels = yes
labelsheader = X-Label

[Repository Gmail-Local]
type = Maildir
localfolders = ~/Mail/Gmail
sep = .
nametrans = lambda folder: re.sub('^Sent$',   '[Gmail].Sent Mail',
                        re.sub('^Drafts$', '[Gmail].Drafts',
                        re.sub('^All$', '[Gmail].All Mail',
                        re.sub('^Starred$', '[Gmail].Starred',
                        re.sub('^Trash$', '[Gmail].Bin',
                        re.sub('_2E', '.',
                        re.sub('^.', '',
                        re.sub('^$', '.INBOX', folder))))))))
folderfilter = lambda foldername: foldername not in ['.Outbox']


[Repository Gmail-Remote]
type = Gmail
auth_mechanisms = LOGIN
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remoteusereval = keyring.get_password("Gmail", "username")
remotepasseval = keyring.get_password("Gmail", "password")
usecompression = yes
nametrans = lambda folder: re.sub('^.INBOX$', '',
                        re.sub('^', '.',
                        re.sub('\.', '_2E',
                        re.sub('^\[Gmail\].Drafts$', 'Drafts',
                        re.sub('^\[Gmail\].Bin$', 'Trash',
                        re.sub('^\[Gmail\].All Mail$', 'All',
                        re.sub('^\[Gmail\].Starred$', 'Starred',
                        re.sub('^\[Gmail\].Sent Mail$', 'Sent', folder))))))))
folderfilter = lambda folder: folder not in [
    '[Gmail]/Important',
    '[Gmail]/Spam' ]
